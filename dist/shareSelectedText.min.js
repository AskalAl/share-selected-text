"use strict";!function(t){var e=50,n=1.33,o=140,i=24,r=2,s=3,l=o-i-r-s,c={twitter:"twitter",buffer:"buffer",digg:"digg",linkedin:"linkedin",stumbleupon:"stumbleupon"},a=void 0,u=void 0,d=window.location.href,f={},h=function(t){t=t||{};for(var e=1;e<arguments.length;e+=1)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},p=function(t){return t?t.length>l?t.substring(0,l)+"...":t.substring(0,l+s):""},m=function(){a.classList.remove("active")},w=function(){a.classList.add("active")},g=function(t,e){u.sanitize&&(e=p(e));var n={twitter:"https://twitter.com/intent/tweet?url="+d+'&text="'+e+'"',buffer:'https://buffer.com/add?text="'+e+'"&url='+d,digg:"http://digg.com/submit?url="+d+"&title="+e,linkedin:"https://www.linkedin.com/shareArticle?url="+d+"&title="+e,stumbleupon:"http://www.stumbleupon.com/submit?url="+d+"&title="+e};return n[t]},b=function(t){var o=document.documentElement.scrollTop||document.body.scrollTop,i=document.querySelector("body");a.style.top=o+t.top-e*n+"px",a.style.left=t.left+t.width/2-i.getBoundingClientRect().width/2+"px",Array.prototype.forEach.call(u.buttons,function(t){a.querySelector(".share-selected-text-btn-"+t).href=g(t,f.text)}),window.setTimeout(function(){w()},250)},v=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=document.createElement("A"),o=document.createElement("i");return u.anchorsClass?n.classList.add("share-selected-text-btn","share-selected-text-btn-"+t,""+u.anchorsClass):n.classList.add("share-selected-text-btn","share-selected-text-btn-"+t),e?o.classList.add(""+e):o.classList.add("icon-"+t,"fa","fa-"+t),o.style.pointerEvents="none",n.addEventListener("click",function(t){t.preventDefault();var e="status=no,menubar=no,location=no,scrollbars=no,width=720,height=540",n=t.target.href;window.open(n,"Share this post",e)}),n.href=g(t,f.text?f.text:""),n.appendChild(o),n},y=function(){var t=document.querySelector("body"),n=document.createElement("DIV"),o=document.createElement("DIV");return n.classList.add("share-selected-text-main-container"),o.classList.add("share-selected-text-inner"),u.tooltipClass&&o.classList.add(u.tooltipClass),n.style.height=e+"px",n.style.top=0,n.style.left=0,Array.prototype.forEach.call(u.buttons,function(t){var e=v(t);o.appendChild(e)}),n.appendChild(o),t.appendChild(n),n},x=function(){var t="",e=void 0;return window.getSelection?(e=window.getSelection(),t=e.toString()):document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange(),t=e.text),{selection:e,text:t}},C=function(){if(f=x(),f.text.length){var t=f.selection.getRangeAt(0),e=t.getBoundingClientRect();b(e)}else m()};t.shareSelectedText=function(t,e){var n=document.querySelectorAll(t);u=h({tooltipClass:"",sanitize:!0,buttons:[c.twitter,c.buffer],anchorsClass:"",twitterVia:"PastaWS"},e),a=y(),Array.prototype.forEach.call(n,function(t){t.addEventListener("mouseup",function(){C()})})}}(window),window.jQuery&&!function(t,e){var n=function(t,n){e(t,n)};t.fn.shareSelectedText=function(t){return n(this.selector,t)}}(jQuery,shareSelectedText);