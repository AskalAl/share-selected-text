"use strict";!function(t){var e=50,n=1.33,r=140,i=24,o=2,s=3,l=r-i-o-s,a={twitter:"twitter",buffer:"buffer",digg:"digg",linkedin:"linkedin",stumbleupon:"stumbleupon"},c=/[ .,!?\/\\\+-=*£$€:~§%^µ)(|@"{}&#><_]/g,u=/[ \/\\\+-=*£$€:~§%^µ)(|@"{}&#><_]/g,d=void 0,h=void 0,f=window.location.href,m={},p=function(t){t=t||{};for(var e=1;e<arguments.length;e+=1)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},g=function(){d.classList.remove("active")},w=function(){d.classList.add("active")},v=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n="",r=l;if(!t)return"";for(t=t.length>l?t.substring(0,r)+"...":t.substring(0,r+s);t.length&&t[0].match(c);)t=t.substring(1,t.length);for(;t.length&&t[t.length-1].match(u);)t=t.substring(0,t.length-1);return h.twitterUsername&&e===a.twitter&&(n=" via @"+h.twitterUsername,r=l-n.length),t},b=function(t,e){h.sanitize&&(e=v(e,t));var n="https://twitter.com/intent/tweet?url="+f+'&text="'+e+'"';h.twitterUsername&&h.twitterUsername.length&&(n="https://twitter.com/intent/tweet?url="+f+'&text="'+e+'"&via='+h.twitterUsername);var r={twitter:n,buffer:'https://buffer.com/add?text="'+e+'"&url='+f,digg:"http://digg.com/submit?url="+f+"&title="+e,linkedin:"https://www.linkedin.com/shareArticle?url="+f+"&title="+e,stumbleupon:"http://www.stumbleupon.com/submit?url="+f+"&title="+e};return r[t]},y=function(t){var r=document.documentElement.scrollTop||document.body.scrollTop,i=document.querySelector("body");d.style.top=r+t.top-e*n+"px",d.style.left=t.left+t.width/2-i.getBoundingClientRect().width/2+"px",Array.prototype.forEach.call(h.buttons,function(t){d.querySelector(".share-selected-text-btn-"+t).href=b(t,m.text)}),window.setTimeout(function(){w()},250)},x=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=document.createElement("A"),r=document.createElement("i");return h.anchorsClass?n.classList.add("share-selected-text-btn","share-selected-text-btn-"+t,""+h.anchorsClass):n.classList.add("share-selected-text-btn","share-selected-text-btn-"+t),e?r.classList.add(""+e):r.classList.add("icon-"+t,"fa","fa-"+t),r.style.pointerEvents="none",n.addEventListener("click",function(t){t.preventDefault();var e="status=no,menubar=no,location=no,scrollbars=no,width=720,height=540",n=t.target.href;window.open(n,"Share this post",e)}),n.href=b(t,m.text?m.text:""),n.appendChild(r),n},C=function(){var t=document.querySelector("body"),n=document.createElement("DIV"),r=document.createElement("DIV");return n.classList.add("share-selected-text-main-container"),r.classList.add("share-selected-text-inner"),h.tooltipClass&&r.classList.add(h.tooltipClass),n.style.height=e+"px",n.style.top=0,n.style.left=0,Array.prototype.forEach.call(h.buttons,function(t){var e=x(t);r.appendChild(e)}),n.appendChild(r),t.appendChild(n),n},E=function(){var t="",e=void 0;return window.getSelection?(e=window.getSelection(),t=e.toString()):document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange(),t=e.text),{selection:e,text:t}},L=function(){if(m=E(),m.text.length){var t=m.selection.getRangeAt(0),e=t.getBoundingClientRect();y(e)}else g()};t.shareSelectedText=function(t,e){var n=document.querySelectorAll(t);h=p({tooltipClass:"",sanitize:!0,buttons:[a.twitter,a.buffer],anchorsClass:"",twitterUsername:""},e),d=C(),Array.prototype.forEach.call(n,function(t){t.addEventListener("mouseup",function(){L()})})}}(window),window.jQuery&&!function(t,e){var n=function(t,n){e(t,n)};t.fn.shareSelectedText=function(t){return n(this.selector,t)}}(jQuery,shareSelectedText);