"use strict";!function(t){var e=function(){return document.querySelector('meta[property="og:url"]')&&document.querySelector('meta[property="og:url"]').getAttribute("content")?document.querySelector('meta[property="og:url"]').getAttribute("content"):window.location.href},n=50,r=1.33,o=140,i=24,s=2,l=3,a=250,c=o-i-s-l,u={twitter:"twitter",buffer:"buffer",digg:"digg",linkedin:"linkedin",stumbleupon:"stumbleupon",reddit:"reddit"},d=/[ .,!?\/\\\+\-=*£$€:~§%^µ)(|@"{}&#><_]/g,h=/[ ,\/\\\+\-=*£$€:~§%^µ)(|@"{}&#><_]/g,f=e(),m=void 0,p=void 0,g={},w=function(t){t=t||{};for(var e=1;e<arguments.length;e+=1)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},b=function(){m.classList.remove("active")},v=function(){m.classList.add("active")},y=function(t){for(;t.length&&t[0].match(d);)t=t.substring(1,t.length);for(;t.length&&t[t.length-1].match(h);)t=t.substring(0,t.length-1);return t},x=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n="",r=c;return t?(p.twitterUsername&&e===u.twitter&&(n=" via @"+p.twitterUsername,r=c-n.length),t.length>c?(t=t.substring(0,r),t=t.substring(0,t.lastIndexOf(" "))+"..."):t=t.substring(0,r+l),y(t)):""},S=function(t,e){e=p.sanitize?x(e,t):y(e);var n="https://twitter.com/intent/tweet?url="+f+'&text="'+e+'"';p.twitterUsername&&p.twitterUsername.length&&(n+="&via="+p.twitterUsername),p.hashtags&&p.hashtags.length&&(n+="&via="+p.twitterUsername);var r={twitter:n,buffer:'https://buffer.com/add?text="'+e+'"&url='+f,digg:"http://digg.com/submit?url="+f+"&title="+e,linkedin:"https://www.linkedin.com/shareArticle?url="+f+"&title="+e,stumbleupon:"http://www.stumbleupon.com/submit?url="+f+"&title="+e,reddit:"https://reddit.com/submit?url="+f+"&title="+e};return r.hasOwnProperty(t)?r[t]:""},C=function(t){var e=document.documentElement.scrollTop||document.body.scrollTop,o=document.querySelector("body");m.style.top=e+t.top-n*r+"px",m.style.left=t.left+t.width/2-o.getBoundingClientRect().width/2+"px",Array.prototype.forEach.call(p.buttons,function(t){m.querySelector(".share-selected-text-btn-"+t).href=S(t,g.text)}),window.setTimeout(function(){v()},p.tooltipTimeout)},E=function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=document.createElement("A"),r=document.createElement("i");return p.anchorsClass?n.classList.add("share-selected-text-btn","share-selected-text-btn-"+t,""+p.anchorsClass):n.classList.add("share-selected-text-btn","share-selected-text-btn-"+t),e?r.classList.add(""+e):r.classList.add("icon-"+t,"fa","fa-"+t),r.style.pointerEvents="none",n.addEventListener("click",function(t){t.preventDefault();var e="status=no,menubar=no,location=no,scrollbars=no,width=720,height=540",n=t.target.href;window.open(n,"Share this post",e)}),n.href=S(t,g.text?g.text:""),n.appendChild(r),n},L=function(){var t=document.querySelector("body"),e=document.createElement("DIV"),r=document.createElement("DIV");return e.classList.add("share-selected-text-main-container"),r.classList.add("share-selected-text-inner"),p.tooltipClass&&r.classList.add(p.tooltipClass),e.style.height=n+"px",e.style.top=0,e.style.left=0,Array.prototype.forEach.call(p.buttons,function(t){var e=E(t);r.appendChild(e)}),e.appendChild(r),t.appendChild(e),e},A=function(){var t="",e=void 0;return window.getSelection?(e=window.getSelection(),t=e.toString()):document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange(),t=e.text),{selection:e,text:t}},T=function(){if(g=A(),g.text.length){var t=g.selection.getRangeAt(0),e=t.getBoundingClientRect();C(e)}else b()};t.shareSelectedText=function(t,e){var n=document.querySelectorAll(t);p=w({tooltipClass:"",sanitize:!0,buttons:[u.twitter,u.reddit,u.buffer],anchorsClass:"",twitterUsername:"",tooltipTimeout:a},e),m=L(),Array.prototype.forEach.call(n,function(t){t.addEventListener("mouseup",function(){T()})})}}(window),window.jQuery&&!function(t,e){var n=function(t,n){e(t,n)};t.fn.shareSelectedText=function(t){return n(this.selector,t)}}(jQuery,shareSelectedText);